<!-- admin/templates/admin/class_report.html -->

{% extends "/admin/_reports_base.html" %}
{% block title %}Classes{% endblock %}

{% block report_content %}

<div class="container pt-4">
    <h3>Classes</h3>
    <table class="table">
        <thead>
            <tr>
                <!-- The sort_by[:] and sort_order[:] ensure that a copy of the list is passed to avoid modifying the original list during URL generation. -->
                <th>
                    <a href="{{ url_for('admin.classes_get', 
                    sort_by=update_sort('number_suffix', sort_by[:], sort_order[:]), 
                    sort_order=update_order('number_suffix', sort_by[:], sort_order[:])) }}">Class</a>
                </th>
                <th>
                    <a href="{{ url_for('admin.classes_get', 
                    sort_by=update_sort('name', sort_by[:], sort_order[:]), 
                    sort_order=update_order('name', sort_by[:], sort_order[:])) }}">Name</a>
                </th>
                <th>
                    <a href="{{ url_for('admin.classes_get', 
                    sort_by=update_sort('type', sort_by[:], sort_order[:]), 
                    sort_order=update_order('type', sort_by[:], sort_order[:])) }}">Type</a>
                </th>
                <th>
                    <a href="{{ url_for('admin.classes_get', 
                    sort_by=update_sort('discipline', sort_by[:], sort_order[:]), 
                    sort_order=update_order('discipline', sort_by[:], sort_order[:])) }}">Discipline</a>
                </th>
                <th>
                    <a href="{{ url_for('admin.classes_get', 
                    sort_by=update_sort('number_of_entries', sort_by[:], sort_order[:]), 
                    sort_order=update_order('number_of_entries', sort_by[:], sort_order[:])) }}">Entries</a>
                </th>
                <th>
                    <a href="{{ url_for('admin.classes_get', 
                    sort_by=update_sort('total_fees', sort_by[:], sort_order[:]), 
                    sort_order=update_order('total_fees', sort_by[:], sort_order[:])) }}">Total&nbsp;Fees</a>
                </th>
                <th>
                    <a href="{{ url_for('admin.classes_get', 
                    sort_by=update_sort('total_time', sort_by[:], sort_order[:]), 
                    sort_order=update_order('total_time', sort_by[:], sort_order[:])) }}">Total&nbsp;Time</a>
                </th>
        </thead>
        <tbody>
            {% for _class in classes %}
            <tr>
                <td><a href="{{ url_for('admin.class_info_get', id=_class.id) }}">{{ _class.number_suffix }}</a></td>
                <td>{{ _class.name }}</td>
                <td>{{ _class.type }}</td>
                <td>{{ _class.discipline }}</td>
                <td class="text-end">{{ _class.number_of_entries }}</td>
                <td class="text-end">{{ _class.total_fees }}</td>
                <td class="text-end">{{ _class.total_time }}</td>
            </tr>
            
            {% endfor %}
        </tbody>
    </table>

{% endblock %}
