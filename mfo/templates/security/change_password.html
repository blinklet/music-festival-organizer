{% extends "base.html" %}
{% from "security/_macros.html" import render_field_with_errors, render_field, render_field_errors, render_form_errors %}

{% block content %}
<div class="row pt-4 pb-4">
  <div class="col-sm-2">
  </div>
  <div class="col-sm-8">
    {# {% include "security/_messages.html" %} #}
    <h1>{{ _fsdomain('Change password') }}</h1>
    <form action="{{ url_for_security('change_password') }}" method="post" name="change_password_form">
      {{ change_password_form.hidden_tag() }}
      {{ render_form_errors(change_password_form) }}
      {% if active_password %}
        {{ render_field_with_errors(change_password_form.password, class_="form-control mb-2") }}
      {% else %}
        <h3>{{ _fsdomain('You do not currently have a password - this will add one.') }}</h3>
      {% endif %}
      {{ render_field_with_errors(change_password_form.new_password, class_="form-control mb-2") }}
      {{ render_field_with_errors(change_password_form.new_password_confirm, class_="form-control mb-3") }}
      {{ render_field_errors(change_password_form.csrf_token) }}
      {{ render_field(change_password_form.submit, class_="btn btn-primary mb-2") }}
    </form>
  </div>
  <div class="col-sm-2">
  </div>
</div>
{% endblock content %}
